<%- include('layout/header', {}) %>

<header>
    <h1><%= list.title %></h1>
</header>

<nav>
<%- include('partials/listTree', { items: lists }) %>
</nav>

<section class="main">
    <table>
        <% tasks.forEach(task => { %>
            <tr>
                <td>
                    <% if (task.status === "completed") { %>
                        <input type="checkbox" readonly checked />
                        <%= task.title %>
                    <% } else if (task.status === "canceled") { %>
                        <s>
                            <input type="checkbox" readonly />
                            <%= task.title %>
                        </s>
                    <% } else { %>
                        <input type="checkbox" readonly />
                        <%= task.title %>
                    <% } %>
    
                    <% if (task.notes) { %>
                        <!-- TODO remove BR -->
                        <br />
                        <small>
                            <%= task.notes.text %> 
                        </small>
                    <% } %>
                </td>
                <td>
                    Start
                </td>
                <td>
                    due
                </td>
            </tr>
            <!-- TODO: children -->
        <% }) %>
    </table>
</section>

<%- include('layout/footer', {}) %>